{"version":3,"sources":["webpack:///./src/components/pagination.vue?9c48","webpack:///src/components/pagination.vue","webpack:///./src/components/pagination.vue?89ed","webpack:///./src/components/pagination.vue","webpack:///./src/views/backend/ProductList.vue?a8bd","webpack:///src/views/backend/ProductList.vue","webpack:///./src/views/backend/ProductList.vue?aea3","webpack:///./src/views/backend/ProductList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","class","pages","has_pre","on","$event","preventDefault","changePage","current_page","_v","_l","page","key","_s","has_next","staticRenderFns","props","data","methods","$emit","component","isLoading","_m","item","id","_f","create_at","product","i","title","qty","unit","total","pagination","getProducts","components","orders","status","fileUpLoading","filters","date","toLocaleDateString","console","log","vm","$http","get","api","then","response","openModal","isNew","tempProduct","Object","assign","updateProduct","httpMethod","success","openDeleteModal","deleteProduct","delete","uploadImg","formData","append","uploadedFile","post","headers","$set","imageUrl","created"],"mappings":"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","file":"js/chunk-4cb3ea53.cfda5a7a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{attrs:{\"aria-label\":\"Page navigation example\"}},[_c('ul',{staticClass:\"pagination\"},[_c('li',{staticClass:\"page-item\",class:{'disabled': !_vm.pages.has_pre}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Previous\"},on:{\"click\":function($event){$event.preventDefault();return _vm.changePage(_vm.pages.current_page - 1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"«\")])])]),_vm._l((_vm.pages.total_pages),function(page){return _c('li',{key:page,staticClass:\"page-item\",class:{'active': _vm.pages.current_page === page}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.changePage(page)}}},[_vm._v(_vm._s(page))])])}),_c('li',{staticClass:\"page-item\",class:{'disabled': !_vm.pages.has_next}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Next\"},on:{\"click\":function($event){$event.preventDefault();return _vm.changePage(_vm.pages.current_page + 1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"»\")])])])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination\">\n      <!-- pre -->\n      <li class=\"page-item\" :class=\"{'disabled': !pages.has_pre}\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\"\n          @click.prevent=\"changePage(pages.current_page - 1)\">\n          <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n      </li>\n      <li class=\"page-item\" v-for=\"page in pages.total_pages\" :key=\"page\"\n        :class=\"{'active': pages.current_page === page}\">\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"changePage(page)\">{{ page }}</a>\n      </li>\n      <!-- next -->\n      <li class=\"page-item\" :class=\"{'disabled': !pages.has_next}\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\"\n          @click.prevent=\"changePage(pages.current_page + 1)\">\n          <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\nexport default {\n  props: ['pages'], // 透過props將外層資料page傳進來\n  data () {\n    return {}\n  },\n  methods: {\n    changePage (page) {\n      this.$emit('emitPages', page) // 觸發內層changePage => 觸發外層emitPages => 觸發最終所需methods\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pagination.vue?vue&type=template&id=e3ccdca2&\"\nimport script from \"./pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./pagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('table',{staticClass:\"table mt-5\"},[_vm._m(0),_c('tbody',_vm._l((_vm.orders),function(item){return _c('tr',{key:item.id},[_c('td',[_vm._v(_vm._s(_vm._f(\"date\")(item.create_at)))]),_c('td',[_vm._v(_vm._s(item.id))]),_c('td',[_c('ul',{staticClass:\"list-unstyled\"},_vm._l((item.products),function(product,i){return _c('li',{key:i},[_vm._v(\" \"+_vm._s(product.product.title)+\" 數量：\"+_vm._s(product.qty)+\" \"+_vm._s(product.product.unit)+\" \")])}),0)]),_c('td',[_vm._v(_vm._s(item.total))]),_c('td',[(item.is_paid)?_c('b',{staticClass:\"text-success\"},[_vm._v(\"已付款\")]):_c('p',{staticClass:\"text-gray\"},[_vm._v(\"尚未付款\")])])])}),0)]),_c('pagination',{attrs:{\"pages\":_vm.pagination},on:{\"emitPages\":_vm.getProducts}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"width\":\"120\"}},[_vm._v(\"購買時間\")]),_c('th',{attrs:{\"width\":\"230\"}},[_vm._v(\"訂單ID\")]),_c('th',[_vm._v(\"購買品項\")]),_c('th',{attrs:{\"width\":\"120\"}},[_vm._v(\"應付金額\")]),_c('th',{attrs:{\"width\":\"120\"}},[_vm._v(\"是否付款\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div  >\n    <loading :active.sync=\"isLoading\"></loading>\n    <!-- <div class=\"text-right mt-4\">\n      <button class=\"btn btn-primary\" @click=\"openModal(true)\">建立新的產品</button>\n    </div> -->\n    <table class=\"table mt-5\">\n      <thead>\n        <tr>\n          <th width=\"120\">購買時間</th>\n          <th width=\"230\">訂單ID</th>\n          <th>購買品項</th>\n          <th width=\"120\">應付金額</th>\n          <th width=\"120\">是否付款</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"(item) in orders\" :key=\"item.id\">\n          <td>{{ item.create_at | date }}</td>\n          <td>{{ item.id }}</td>\n          <td>\n            <ul class=\"list-unstyled\">\n              <li v-for=\"(product, i) in item.products\" :key=\"i\">\n                {{ product.product.title }} 數量：{{ product.qty }}\n                {{ product.product.unit }}\n              </li>\n            </ul>\n          </td>\n          <td>{{ item.total}}</td>\n          <td>\n            <b v-if=\"item.is_paid\" class=\"text-success\">已付款</b>\n            <p v-else class=\"text-gray\">尚未付款</p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <!-- pagination -->\n    <pagination :pages=\"pagination\" @emitPages=\"getProducts\"></pagination>\n    <!-- Modal -->\n    <!-- <div class=\"modal fade\" id=\"productModal\" tabindex=\"-1\" role=\"dialog\"\n      aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-lg\" role=\"document\">\n        <div class=\"modal-content border-0\">\n          <div class=\"modal-header bg-dark text-white\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n              <span>新增產品</span>\n            </h5>\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"row\">\n              <div class=\"col-sm-4\">\n                <div class=\"form-group\">\n                  <label for=\"image\">輸入圖片網址</label>\n                  <input type=\"text\" class=\"form-control\" id=\"image\"\n                  v-model=\"tempProduct.imageUrl\"\n                    placeholder=\"請輸入圖片連結\">\n                </div>\n                <div class=\"form-group\">\n                  <label for=\"customFile\">或 上傳圖片\n                    <i class=\"fas fa-spinner fa-spin\" v-if=\"status.fileUpLoading\"></i>\n                  </label>\n                  <input type=\"file\" id=\"customFile\" class=\"form-control\"\n                    ref=\"files\" @change=\"uploadImg\">\n                </div>\n                <img img=\"https://images.unsplash.com/photo-1483985988355-763728e1935b?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=828346ed697837ce808cae68d3ddc3cf&auto=format&fit=crop&w=1350&q=80\"\n                  class=\"img-fluid\"  :src=\"tempProduct.imageUrl\" alt=\"\">\n              </div>\n              <div class=\"col-sm-8\">\n                <div class=\"form-group\">\n                  <label for=\"title\">標題</label>\n                  <input type=\"text\" class=\"form-control\" id=\"title\"\n                  v-model=\"tempProduct.title\"\n                    placeholder=\"請輸入標題\">\n                </div>\n\n                <div class=\"form-row\">\n                  <div class=\"form-group col-md-6\">\n                    <label for=\"category\">分類</label>\n                    <input type=\"text\" class=\"form-control\" id=\"category\"\n                    v-model=\"tempProduct.category\"\n                      placeholder=\"請輸入分類\">\n                  </div>\n                  <div class=\"form-group col-md-6\">\n                    <label for=\"price\">單位</label>\n                    <input type=\"unit\" class=\"form-control\" id=\"unit\"\n                    v-model=\"tempProduct.unit\"\n                      placeholder=\"請輸入單位\">\n                  </div>\n                </div>\n\n                <div class=\"form-row\">\n                  <div class=\"form-group col-md-6\">\n                  <label for=\"origin_price\">原價</label>\n                    <input type=\"number\" class=\"form-control\" id=\"origin_price\"\n                    v-model=\"tempProduct.origin_price\"\n                      placeholder=\"請輸入原價\">\n                  </div>\n                  <div class=\"form-group col-md-6\">\n                    <label for=\"price\">售價</label>\n                    <input type=\"number\" class=\"form-control\" id=\"price\"\n                    v-model=\"tempProduct.price\"\n                      placeholder=\"請輸入售價\">\n                  </div>\n                </div>\n                <hr>\n\n                <div class=\"form-group\">\n                  <label for=\"description\">產品描述</label>\n                  <textarea type=\"text\" class=\"form-control\" id=\"description\"\n                  v-model=\"tempProduct.description\"\n                    placeholder=\"請輸入產品描述\"></textarea>\n                </div>\n                <div class=\"form-group\">\n                  <label for=\"content\">說明內容</label>\n                  <textarea type=\"text\" class=\"form-control\" id=\"content\"\n                  v-model=\"tempProduct.content\"\n                    placeholder=\"請輸入產品說明內容\"></textarea>\n                </div>\n                <div class=\"form-group\">\n                  <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\"\n                    v-model=\"tempProduct.is_enabeld\"\n                    :true-value=\"1\"\n                    :false-value=\"0\"\n                      id=\"is_enabled\">\n                    <label class=\"form-check-label\" for=\"is_enabled\">\n                      是否啟用\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">取消</button>\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"updateProduct\">確認</button>\n          </div>\n        </div>\n      </div>\n    </div> -->\n    <!-- <div class=\"modal fade\" id=\"delProductModal\" tabindex=\"-1\" role=\"dialog\"\n      aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content border-0\">\n          <div class=\"modal-header bg-danger text-white\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n              <span>刪除產品</span>\n            </h5>\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            是否刪除 <strong class=\"text-danger\">{{ tempProduct.title }}</strong> 商品(刪除後將無法恢復)。\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">取消</button>\n            <button type=\"button\" class=\"btn btn-danger\" @click=\"deleteProduct\">確認刪除</button>\n          </div>\n        </div>\n      </div>\n    </div> -->\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery'\nimport pagination from '@/components/pagination'\n\nexport default {\n  components: {\n    pagination\n  },\n  data () {\n    return {\n      orders: [],\n      // tempProduct: {},\n      // isNew: false,\n      isLoading: false,\n      pagination: {},\n      status: {\n        fileUpLoading: false\n      }\n    }\n  },\n  filters: {\n    date (n) {\n      const date = new Date(n * 1000)\n      return date.toLocaleDateString()\n    }\n  },\n  methods: {\n    getProducts (page = 1) {\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/orders?page=${page}`\n      const vm = this\n      console.log(process.env.VUE_APP_API, process.env.VUE_APP_CUSTOMPATH)\n      vm.isLoading = true\n      this.$http.get(api).then((response) => {\n        console.log(response.data.orders)\n        vm.isLoading = false\n        vm.orders = response.data.orders\n        // response.data.products.forEach(item => {\n        //   if(!item.origin_price){\n        //     item.origin_price = 0;\n        //   }\n        //   if(!item.price){\n        //     item.price = 0;\n        //   }\n        //   vm.products.push(item)\n        vm.pagination = response.data.pagination\n      })\n    },\n    openModal (isNew, item) {\n      // 如果是新增的話，tempProduct為空物件，isNew也是true，代表為新增\n      if (isNew) {\n        this.tempProduct = {}\n        this.isNew = true\n      } else {\n        // 若不是新的，因為要編輯所以tempProduct是傳入的物件，isNew也是false\n        // 避免this.tempProduct等於傳進來的item，因此給他另一個物件Object.assign({}, item)裡面放item\n        this.tempProduct = Object.assign({}, item)\n        this.isNew = false\n      }\n      $('#productModal').modal('show')\n    },\n    updateProduct () {\n      let api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/product`\n      let httpMethod = 'post'\n      const vm = this\n      // 如果isNew是false則要修改api路徑及http方法\n      if (!vm.isNew) {\n        api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/product/${vm.tempProduct.id}`\n        httpMethod = 'put'\n      }\n      console.log(process.env.VUE_APP_API, process.env.VUE_APP_CUSTOMPATH)\n      this.$http[httpMethod](api, { data: vm.tempProduct }).then((response) => {\n        console.log(response.data)\n        if (response.data.success) {\n          console.log('update success')\n          $('#productModal').modal('hide')\n          vm.getProducts()\n        } else {\n          console.log('update fail')\n          $('#productModal').modal('hide')\n          vm.getProducts()\n        }\n        // vm.products = response.data.products\n      })\n    },\n    openDeleteModal (item) {\n      this.tempProduct = Object.assign({}, item)\n      $('#delProductModal').modal('show')\n    },\n    deleteProduct () {\n      const vm = this\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/product/${vm.tempProduct.id}`\n      this.$http.delete(api).then((response) => {\n        $('#delProductModal').modal('hide')\n        vm.getProducts()\n      })\n    },\n    uploadImg () {\n      const uploadedFile = this.$refs.files.files[0]\n      const vm = this\n      const formData = new FormData()\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/upload`\n      formData.append('file-to-upload', uploadedFile)\n      vm.status.fileUpLoading = true\n      this.$http.post(api, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then((response) => {\n        vm.status.fileUpLoading = false\n        console.log(response.data)\n        if (response.data.success) {\n          vm.$set(vm.tempProduct, 'imageUrl', response.data.imageUrl)\n        } else {\n          this.$bus.$emit('messsage:push', response.data.message, 'danger')\n        }\n      })\n    }\n  },\n  created () {\n    this.getProducts()\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductList.vue?vue&type=template&id=3f36f8fe&\"\nimport script from \"./ProductList.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}